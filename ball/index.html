<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Balloon Game</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="styles.css" rel="stylesheet">
</head>
<body>
  <div class="game-content">
    <h1 class="game-title">BALLOON PREDICTOR</h1>
    <!-- Шар и кнопка "Начать" -->
    <div class="ball-container">
      <img src="ballones.png" alt="Ball Icon" class="center-image" id="ball">
      <div class="bet-display" id="betDisplay" style="opacity: 0;">
        ₽0.00
      </div>
    </div>
    <button class="start-button" id="startButton" data-i18n="start">Start</button>
    <button class="start-button" onclick="backToMenu()" style="margin-top: 20px;" data-i18n="back">Back</button>

    <button class="restart-button" id="restartButton" style="display: none;">
      <img src="restart.png" alt="Restart Icon">
    </button>
  </div>

  <!-- Панель выбора валюты и ставки -->
  <div class="betting-panel" id="bettingPanel" style="display: none;">
    <button class="panel-close" id="panelClose" aria-label="Закрыть">✕</button>
    <h2 class="title">Выберите валюту и введите сумму ставки:</h2>
    <div class="currency-selector">
      <label>
        <input type="radio" name="currency" value="₽" id="currencyRub">
        <span>РУБ</span>
      </label>
      <label>
        <input type="radio" name="currency" value="$" id="currencyUsd">
        <span>ДОЛЛАР</span>
      </label>
      <label>
        <input type="radio" name="currency" value="₹" id="currencyInr">
        <span>РУПИИ</span>
      </label>
    </div>
    <button type="button" class="other-currency-toggle" id="otherCurrencyToggle">ИНАЯ/ДРУГАЯ ВАЛЮТА</button>
    <div class="other-currency-group" id="otherCurrencyGroup" style="display: none;">
      <input type="text" id="customCurrency" placeholder="Введите валюту ($ или Dollar)" class="currency-input">
    </div>
    <input type="number" id="betAmount" placeholder="Enter bet amount" class="bet-input">
    <button class="confirm-button" id="confirmButton" disabled>Confirm</button>
  </div>

  <!-- Добавляем разметку для анимированного фона -->
  <div class="animated-background">
    <div class="cloud cloud-1"></div>
    <div class="cloud cloud-2"></div>
    <div class="cloud cloud-3"></div>
    <div class="cloud cloud-4"></div>
    <div class="cloud cloud-5"></div>
    
    <!-- Добавляем звезды -->
    <div class="stars" id="stars"></div>
  </div>

  <script>
    (function(){
      const params = new URLSearchParams(window.location.search);
      const language = params.get('language') || (function(){ try { return localStorage.getItem('language') || (document.documentElement.getAttribute('lang') || 'ru'); } catch(e){ return 'ru'; } })();
      const translations = {
        en: { start: 'Start', back: 'Back' },
        ru: { start: 'Начать', back: 'Назад' },
        uz: { start: 'Boshlash', back: 'Ortga' },
        hi: { start: 'शुरू करें', back: 'वापस' },
        az: { start: 'Başla', back: 'Geri' }
      };
      const dict = translations[language] || translations.en;
      document.documentElement.setAttribute('lang', language);
      document.querySelectorAll('[data-i18n]').forEach(node => {
        const key = node.getAttribute('data-i18n');
        node.textContent = dict[key] || key;
      });
    })();
  </script>
  <script>
    function backToMenu(){
      try {
        const params = new URLSearchParams(window.location.search);
        const lang = params.get('language') || localStorage.getItem('language') || (document.documentElement.getAttribute('lang') || 'ru');
        window.location.href = '../index.html?language=' + encodeURIComponent(lang);
      } catch (e) {
        window.location.href = '../index.html';
      }
    }
  </script>
  <script src="script.js"></script>
</body>
</html>